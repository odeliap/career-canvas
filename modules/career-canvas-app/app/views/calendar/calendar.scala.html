@(events: Html)

@base("Calendar") {

<html lang='en'>
    <head>
        <meta charset='utf-8' />
        <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/calendar.css")">
        <script src="https://cdn.jsdelivr.net/npm/fullcalendar@@6.1.8/index.global.min.js"></script>
        <script src='https://cdn.jsdelivr.net/npm/fullcalendar@@6.1.8/index.global.min.js'></script>
        <script>

            document.addEventListener('DOMContentLoaded', function() {
                var events = @events;
                const data = Array.from(events);
                var series = [];
                for(n in data) {
                    series.push({
                        id: data[n][0],
                        title: data[n][1],
                        start: data[n][2],
                        end: data[n][3]
                    })
                };

                var calendarEl = document.getElementById('calendar');
                var calendar = new FullCalendar.Calendar(calendarEl, {
                    initialDate: String(new Date().toISOString().slice(0, 10)),
                    headerToolbar: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'dayGridMonth,timeGridWeek,timeGridDay'
                    },
                    timezone: 'America/New_York',
                    events: series
                });
                calendar.render();
            });

            function convertDate(date){
                return(date.getDate()+"."+(date.getUTCMonth()+1)+"."+date.getUTCFullYear()+" "+date.getHours()+":"+date.getMinutes());
            }

        </script>
    </head>
    <body>
        <div class="intro">
            <div class="header">
                <img src="@routes.Assets.versioned("images/logos/logo1.png")" class="logo1">
                <div class="navbar">
                    <div class="profile-dropdown">
                        <button class="profile-dropbtn">
                            <img src="@routes.Assets.versioned("images/help-center/user.svg")" class="profile">
                            Profile
                            <i class="fa fa-caret-down"></i>
                        </button>
                        <div class="profile-dropdown-content">
                            <a href="@routes.ProfileController.editProfile()">Edit Profile</a>
                            <a href="@routes.ProfileController.logout()">Log Out</a>
                        </div>
                    </div>
                </div>
            </div>
            <ul class="navigation-bar">
                <li><a class="navigation-el" href="@routes.HomeController.showHome()">Home</a></li>
                <li><a class="navigation-el" href="@routes.CalendarController.showHomeCalendar()">Calendar</a></li>
                <li><a class="navigation-el" href="@routes.JobFeedController.showJobFeedHome()">Job Feed</a></li>
                <li><a class="navigation-el" href="@routes.JobStatisticsController.showJobStats()">Search Statistics</a></li>
            </ul>
        </div>
        <div id='calendar'></div>
    </body>
</html>

}